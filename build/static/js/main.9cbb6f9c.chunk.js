(this["webpackJsonpsocial-media"]=this["webpackJsonpsocial-media"]||[]).push([[0],{111:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),i=s(26),a=s.n(i),r=(s(60),s(3)),o=s(18),l=s(7),d=s(0);function j(e){return Object(d.jsxs)("div",{className:"domain-card",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("img",{src:e.icon||s(32).default,alt:"domain-img"})}),Object(d.jsx)("h1",{children:e.title}),Object(d.jsx)("p",{children:e.short_description}),Object(d.jsx)(l.b,{to:{pathname:"/tasks/".concat(e.slug),taskName:e.title},children:"Go to tasks"})]})}var u=s(29),b=s.n(u);function h(){return Object(d.jsx)("div",{className:"domain-card",style:{margin:"0 3rem"},children:Object(d.jsx)(u.SkeletonTheme,{color:"#808a89",highlightColor:"#fff",children:Object(d.jsx)(b.a,{})})})}var m=s(10),O=s(11),p=s(13),f=s(12),x=s(22),g=s.n(x),v=s(14),k=s.n(v),_=s(19);function N(e){var t=null;if(document.cookie&&""!==document.cookie)for(var s=document.cookie.split(";"),n=0;n<s.length;n++){var c=s[n].trim();if(c.substring(0,e.length+1)===e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}return t}var y=N("csrftoken"),S=(g.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,headers:{"X-CSRFToken":y}}),g.a.create({withCredentials:!0,baseURL:"/api",headers:{"X-CSRFToken":N("csrftoken")}})),C=s(16),w=s.n(C),D=function(e){w.a.fire({title:"Error",text:e,icon:"error",position:"top"})},F=function(){var e=Object(_.a)(k.a.mark((function e(t,s,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.fire({title:"Confirmation",text:t,icon:"warning",showConfirmButton:!0,showCancelButton:!0});case 2:e.sent.isConfirmed?s():n&&n();case 4:case"end":return e.stop()}}),e)})));return function(t,s,n){return e.apply(this,arguments)}}(),E=Object(n.createContext)({count:[],loading:!0}),M=function(e){Object(p.a)(s,e);var t=Object(f.a)(s);function s(e){var n;return Object(m.a)(this,s),(n=t.call(this,e)).state={loading:!0,count:[]},n}return Object(O.a)(s,[{key:"componentDidMount",value:function(){var e=this;S.get("/course/get_categories").then((function(t){var s=t.data;"successful"===s.status&&e.setState({loading:!1,count:s.count})})).catch((function(e){return D(e)}))}},{key:"render",value:function(){return Object(d.jsx)(E.Provider,{value:this.state,children:this.props.children})}}]),s}(n.Component);E.Consumer;function L(){var e=Object(n.useContext)(E);return e.loading?Object(d.jsx)(h,{}):Object(d.jsx)("div",{className:"home",children:Object(d.jsx)("div",{className:"cards",children:e.count.map((function(e,t){return Object(n.createElement)(j,Object(o.a)(Object(o.a)({},e),{},{key:t}))}))})})}function T(){return Object(d.jsx)("div",{className:"auth"})}var P=s(30),R=s(17),I=s.n(R),A=s(23);function B(e){var t=Object(r.f)();return Object(d.jsxs)("div",{className:"task-card",children:[null===e.submission?Object(d.jsx)(d.Fragment,{}):null!==e.submission.comments?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{"data-tip":"Completed!",className:"completed",children:Object(d.jsx)("i",{className:"fas fa-check-circle"})}),Object(d.jsx)(P.a,{effect:"solid",type:"success"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{"data-tip":"Submitted",className:"submitted",children:Object(d.jsx)("i",{className:"fas fa-check-circle"})}),Object(d.jsx)(P.a,{effect:"solid",type:"warning"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:e.title}),Object(d.jsxs)("div",{className:"date",children:[Object(d.jsxs)("p",{children:["Start Date :"," ",Object(d.jsx)("span",{style:{fontWeight:"700"},children:I()(e.start_date).format(" Do MMMM, dddd")})]}),Object(d.jsxs)("p",{children:["End Date:",Object(d.jsx)("span",{style:{fontWeight:"700"},children:null===e.last_date?"NA":I()(e.last_date).format(" Do MMMM, dddd")})]})]})]}),Object(d.jsx)("div",{className:"bottom",children:Object(d.jsx)("p",{children:Object(A.a)(e.description)})}),Object(d.jsx)("button",{onClick:function(){return t.push({pathname:"/tasks/".concat(e.domain,"/").concat(e.uuid),state:e})},children:"View full task"})]})}var W=s.p+"static/media/pdf.ebc43593.png",H=s.p+"static/media/github.d3263084.png",U=function(e){var t=e.is_github,s=e.github_link,n=e.file;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{style:{margin:"1rem 0",marginBottom:"0"},children:"Your Submission"}),Object(d.jsx)("div",{className:"start-flex-col",children:Object(d.jsxs)("a",{style:{backgroundColor:t?"white":""},href:t?s:n,className:"bg-contrast pdf-container",download:!t,target:t?"_blank":"",rel:"noreferrer",children:[Object(d.jsx)("img",{src:t?H:W,alt:"pdf_file"})," ",Object(d.jsx)("span",{style:{color:t?"black":""},children:"View Submission"})]})})]})},V=function(e){Object(p.a)(s,e);var t=Object(f.a)(s);function s(e){var n;return Object(m.a)(this,s),(n=t.call(this,e)).submitFile=function(){n.setState({submitted:!0,openLoader:!0},(function(){var e=new FormData;n.props.task.is_github?e.append("github_link",n.state.github_link):n.state.file&&e.append("file",n.state.file),e.append("uuid",n.props.task.uuid),S.post("/course/upload/",e).then((function(e){var t;"successful"===e.data.status?(t="Successfully Submitted",w.a.fire({title:"Success",text:t,toast:!0,icon:"success",position:"top"}),n.setState({success:!0,submitted_file:e.data.file,openLoader:!1},(function(){n.props.addSubmisson(e.data.submission,n.props.uuid)}))):(n.setState({openLoader:!1}),D(e.data.error))})).catch((function(e){alert(e),n.setState({submitted:!1,openLoader:!1})}))}))},n.submitHandler=function(e){e.preventDefault(),F("Are you sure you want to submit?",n.submitFile)},n.render_resources=function(){return 0===n.props.task.resources.length?Object(d.jsx)("p",{style:{paddingBottom:"1rem"},children:"No resources to show"}):n.props.task.resources.map((function(e){var t=e.video_link.indexOf("v="),s=e.video_link.length,n=e.video_link.slice(t+2,s);return Object(d.jsxs)("div",{children:[Object(d.jsx)("h4",{children:e.video_title}),Object(d.jsx)("iframe",{height:"100%",src:"https://www.youtube.com/embed/"+n,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})}))},n.render_submission=function(){return n.state.success?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(U,{is_github:n.props.task.is_github,github_link:n.state.submitted_file,file:n.state.submitted_file})}):null===n.props.task.submission?Object(d.jsxs)("form",{onSubmit:function(e){return n.submitHandler(e)},children:[n.props.task.is_github?Object(d.jsx)("input",{type:"url",id:"myFile",name:"filename",placeholder:"Enter the link of your GitHub Repository",value:n.state.github_link,onChange:function(e){return n.setState({github_link:e.target.value})}}):Object(d.jsx)("input",{type:"file",id:"myFile",name:"filename",onChange:function(e){return n.setState({file:null!==e.target.files?e.target.files[0]:null})}}),Object(d.jsx)("button",{disabled:n.state.submitted||null===n.state.file&&0===n.state.github_link.length,type:"submit",children:Object(d.jsx)("span",{children:"Submit"})})]}):Object(d.jsx)(U,{is_github:n.props.task.is_github,github_link:n.props.task.submission.github_link,file:n.props.task.submission.file})},console.log(e),n.state={file:null,submitted:!1,success:!1,submitted_file:"",github_link:"",openLoader:!1},n}return Object(O.a)(s,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"tasks",children:this.state.openLoader?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"spinner"})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"task-card-single",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:this.props.task.title}),Object(d.jsxs)("div",{className:"date",children:[Object(d.jsxs)("p",{children:["Start Date :"," ",Object(d.jsx)("span",{style:{fontWeight:700},children:I()(this.props.task.start_date).format(" Do MMMM, dddd")})]}),Object(d.jsxs)("p",{children:["End Date:",Object(d.jsx)("span",{style:{fontWeight:700},children:this.props.task.last_date?I()(this.props.task.last_date).format(" Do MMMM, dddd"):"NA"})]})]})]}),Object(d.jsxs)("div",{className:"bottom",children:[Object(d.jsx)("div",{children:Object(A.a)(this.props.task.description)}),Object(d.jsx)("div",{className:"start-flex-col",style:{padding:"1rem 0"},children:Object(d.jsxs)("a",{href:this.props.task.pdf_file,className:"bg-contrast pdf-container",download:!0,children:[Object(d.jsx)("img",{src:W,alt:"pdf_file"})," ",Object(d.jsx)("span",{children:"Download PDF"})]})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Resources"}),Object(d.jsx)("div",{className:"iframe-container",children:this.render_resources()})]})]}),this.render_submission()]}),null!==this.props.task.submission&&null!==this.props.task.submission.comments?Object(d.jsxs)("div",{className:"container task-card-single",children:[Object(d.jsx)("h2",{children:"Comments"}),Object(d.jsx)("textarea",{readOnly:!0,className:"comment-box",rows:10,children:this.props.task.submission.comments})]}):Object(d.jsx)(d.Fragment,{})]})})}}]),s}(n.Component),Y=Object(n.createContext)({loading:!0,category_title:"",tasks:[],organisers:[],addSubmission:function(e,t){}}),q=function(e){Object(p.a)(s,e);var t=Object(f.a)(s);function s(e){var n;return Object(m.a)(this,s),(n=t.call(this,e)).addSubmission=function(e,t){for(var s=function(s){n.state.tasks[s].uuid===t&&n.setState((function(){var t=n.state.tasks[s];return t.submission=e,{tasks:n.state.tasks.map((function(e,n){return n===s?t:e}))}}))},c=0;c<n.state.tasks.length;c++)s(c)},n.state={loading:!0,category_title:"",tasks:[],organisers:[],addSubmission:n.addSubmission},n}return Object(O.a)(s,[{key:"componentDidMount",value:function(){var e=this;S.get("/course/get_tasks/"+this.props.match.params.domainID).then((function(t){var s=t.data;"successful"===s.status?e.setState({loading:!1,tasks:s.tasks,category_title:s.category_title,organisers:s.organisers}):e.props.history.replace("/not-found")})).catch((function(e){return D(e)}))}},{key:"render",value:function(){return Object(d.jsx)(Y.Provider,{value:this.state,children:this.props.children})}}]),s}(n.Component),z=Object(r.h)(q),K=(Y.Consumer,s(55)),G=s.n(K)()(w.a);function J(){var e=Object(r.g)(),t=e.domainID,s=e.taskID,c=Object(n.useContext)(Y),i=!1,a=0;return c&&c.tasks.forEach((function(e){e.submission&&e.submission.comments&&a++})),a===c.tasks.length&&(i=!0),c.loading?Object(d.jsx)(h,{}):Object(d.jsxs)("div",{className:"tasks",children:[Object(d.jsx)("h1",{style:{textAlign:"center"},children:c.category_title}),Object(d.jsx)("div",{className:"organizer-container",children:Object(d.jsx)("button",{className:"organizer",onClick:function(){var e=c.organisers.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.contact})]})}));G.fire({showConfirmButton:!0,title:"Organisers",html:Object(d.jsxs)("table",{children:[" ",Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Contact"})]})," ",e]})})},children:"View Organisers"})}),s&&t?Object(d.jsx)(d.Fragment,{children:c.tasks.map((function(e,t){return e.uuid===s?Object(d.jsx)(V,{task:e,addSubmisson:c.addSubmission,uuid:s},t):null}))}):Object(d.jsxs)("div",{className:"cards",children:[i?Object(d.jsxs)("div",{className:"completed-alert",children:[Object(d.jsxs)("h2",{children:["Congratulations! You have completed all ",c.category_title," ","Tasks \ud83c\udf89"," "]}),Object(d.jsx)("p",{children:"Click below to download your certificate"}),Object(d.jsx)("a",{href:"/api/course/get_certificate/".concat(t),children:Object(d.jsx)("button",{children:"Download e-Certificate"})})]}):Object(d.jsx)(d.Fragment,{}),c.tasks.map((function(e,s){return Object(n.createElement)(B,Object(o.a)(Object(o.a)({domain:t},e),{},{key:s}))}))]})]})}var X=s(24),Q=c.a.createContext({first_name:"",last_name:"",registration_number:"",email:""});var Z=function(e){var t=Object(n.useState)({email:"",registration_number:"",first_name:"",last_name:""}),s=Object(X.a)(t,2),c=s[0],i=s[1];return Object(n.useEffect)((function(){S.get("/get_user").then((function(e){200===e.status&&i(e.data.user)})).catch((function(e){return D(e)}))}),[]),Object(d.jsx)(Q.Provider,{value:c,children:e.children})},$=Object(n.createContext)({loading:!0,count:[]}),ee=function(e){Object(p.a)(s,e);var t=Object(f.a)(s);function s(e){var n;return Object(m.a)(this,s),(n=t.call(this,e)).state={loading:!0,count:[]},n}return Object(O.a)(s,[{key:"componentDidMount",value:function(){var e=this;S.get("/course/profile").then((function(t){var s=t.data;"successful"===s.status&&e.setState({loading:!1,count:s.count})})).catch((function(e){return D(e)}))}},{key:"render",value:function(){return Object(d.jsx)($.Provider,{value:this.state,children:this.props.children})}}]),s}(n.Component),te=($.Consumer,function(e){var t=e.title,n=e.slug,c=e.short_description,i=e.count_assigned,a=e.count_completed,r=e.startdate,o=e.icon;return Object(d.jsx)(l.b,{to:"/tasks/".concat(n),children:Object(d.jsx)("div",{className:"domain",children:Object(d.jsxs)("div",{className:"center-flex",children:[Object(d.jsx)("img",{src:o||s(32).default,alt:""}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:t}),Object(d.jsx)("div",{className:"detail",children:c}),Object(d.jsxs)("div",{className:"tasks-profile",children:[Object(d.jsxs)("span",{children:[a,"/",i]})," ","tasks completed"]}),Object(d.jsxs)("div",{className:"detail",children:["Started : ",new Date(r).toDateString()]})]})]})})})}),se=function(){var e=Object(n.useContext)(Q),t=Object(n.useContext)($);return t.loading?Object(d.jsx)("div",{className:"spinner"}):Object(d.jsxs)("div",{className:"profile-page",children:[Object(d.jsxs)("div",{style:{marginBottom:"2rem"},children:[Object(d.jsxs)("h1",{className:"detail",children:[e.first_name," ",e.last_name]}),Object(d.jsx)("h2",{className:"detail",children:e.email}),Object(d.jsx)("h2",{className:"detail",children:e.registration_number})]}),Object(d.jsx)("h1",{style:{fontSize:"2.6rem"},children:"Your Domains"}),Object(d.jsx)("div",{className:"domains",children:t.count.map((function(e,t){return Object(d.jsx)(te,{icon:e.icon,title:e.title,slug:e.slug,short_description:e.short_description,count_assigned:e.count_assigned,count_completed:e.count_completed,startdate:e.startdate},t)}))})]})},ne=s.p+"static/media/iste.466ef0c3.svg",ce=s.p+"static/media/d.fd952645.png",ie=s.p+"static/media/p.87c255c7.png",ae=s.p+"static/media/s.5812caa2.png",re=function(){var e=Object(n.useState)(0),t=Object(X.a)(e,2),s=t[0],c=t[1];return Object(d.jsxs)("nav",{children:[Object(d.jsxs)("div",{className:"logo",children:[Object(d.jsx)(l.b,{to:"/",children:Object(d.jsx)("img",{src:ne,alt:"iste-logo",className:"iste-logo"})}),Object(d.jsx)("h4",{className:"nav-title",children:" ISTE Summer School"})]}),Object(d.jsxs)("ul",{className:"nav-links",children:[Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{src:ce,className:"nav-imgs",alt:"domain-img"}),Object(d.jsx)(l.b,{to:"/",children:"Domains"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{src:ie,className:"nav-imgs",alt:"profile-img"}),Object(d.jsx)(l.b,{to:"/profile",children:"Profile"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{src:ae,className:"nav-imgs",alt:"logout-img"}),Object(d.jsx)("a",{href:"/logout",children:"Logout"})]})]}),Object(d.jsxs)("div",{className:"burger",onClick:function(){!function(){c(!s);var e=document.querySelector(".burger"),t=document.querySelector(".nav-links"),n=document.querySelectorAll(".nav-links li");s?(t.classList.remove("nav-active"),n.forEach((function(e,t){e.style.animation?e.style.animation="":e.style.animation="navLinkFade 0.5s ease forwards ".concat(t/7+.3,"s")})),e.classList.remove("toggle")):(t.classList.add("nav-active"),n.forEach((function(e,t){e.style.animation?e.style.animation="":e.style.animation="navLinkFade 0.5s ease forwards ".concat(t/7+.3,"s")})),e.classList.add("toggle"))}()},children:[Object(d.jsx)("div",{className:"line1"}),Object(d.jsx)("div",{className:"line2"}),Object(d.jsx)("div",{className:"line3"})]})]})};function oe(){return Object(d.jsx)("div",{className:"tasks",children:Object(d.jsx)("div",{className:"cards",children:Object(d.jsx)("div",{className:"task-card",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Not Found"}),Object(d.jsxs)("div",{className:"date",children:[Object(d.jsx)("p",{children:"The page you are looking for does not exist"}),Object(d.jsx)("p",{children:"Please go to domains and select your domain"})]})]})})})})}var le=function(){return Object(d.jsxs)(c.a.Fragment,{children:[Object(d.jsx)(re,{}),Object(d.jsxs)(r.c,{children:[Object(d.jsx)(r.a,{exact:!0,path:"/",render:function(){return Object(d.jsx)(M,{children:Object(d.jsx)(L,{})})}}),Object(d.jsx)(r.a,{path:"/tasks/:domainID/:taskID",render:function(){return Object(d.jsx)(z,{children:Object(d.jsx)(J,{})})}}),Object(d.jsx)(r.a,{path:"/auth",component:T}),Object(d.jsx)(r.a,{path:"/profile",render:function(){return Object(d.jsx)(ee,{children:Object(d.jsx)(se,{})})}}),Object(d.jsx)(r.a,{path:"/tasks/:domainID",render:function(){return Object(d.jsx)(z,{children:Object(d.jsx)(J,{})})}}),Object(d.jsx)(r.a,{exact:!0,path:"/not-found",component:oe})]})]})};a.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(l.a,{children:Object(d.jsx)(Z,{children:Object(d.jsx)(le,{})})})}),document.getElementById("root"))},32:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/ml.54366203.png"},60:function(e,t,s){}},[[111,1,2]]]);
//# sourceMappingURL=main.9cbb6f9c.chunk.js.map